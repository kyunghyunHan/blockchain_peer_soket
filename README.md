# Peerì™€ socket


## ðŸ‘©ðŸ»â€ðŸŽ“PEER(í”¼ì–´)
- peer :[ì‚¬ì „ì  ì˜ë¯¸]:ë˜ëž˜ í˜¹ì€ ê°™ì€íŽ¸       
![á„€á…³á„…á…µá†·2](https://user-images.githubusercontent.com/88940298/147638245-885bd99d-0ff9-400a-bb32-14af75c73c64.png)

ë¸”ë¡ì²´ì¸ì˜ ê°€ìž¥ í•µì‹¬ ì¤‘ì— í•˜ë‚˜ëŠ” íƒˆ ì¤‘ì•™í™”ì´ë‹¤. ë¹„ìŠ·í•œ ì‚¬ë¡€ë¡œ MP3 ì„œë¹„ìŠ¤ì˜ í˜ëª… "ì†Œë¦¬ë°”ë‹¤" ì´ë‹¤. ì†Œë¦¬ë°”ë‹¤ëŠ” ì‚¬ëžŒë“¤ë¼ë¦¬ ì§ì ‘ ì—°ê²°ì„ ì‹œì¼œì„œ MP3ë¥¼ ê³µìœ í•˜ë˜ ì„œë¹„ìŠ¤ì´ë‹¤. ìµœê·¼ì—ëŠ” í† ë ŒíŠ¸(torrent) ê°™ì€ ì„œë¹„ìŠ¤ê°€ ë‚˜ì™”ì§€ë§Œ 2000ë…„ëŒ€ ì´ˆì—ëŠ” ì†Œë¦¬ë°”ë‹¤ê°€ P2P ì„œë¹„ìŠ¤ì˜ ìµœê³ ì˜€ë‹¤. ì¦‰ P2PëŠ” ì‚¬ëžŒê³¼ ì‚¬ëžŒì„ ì§ì ‘ ì—°ê²°í•˜ëŠ” ê¸°ìˆ ì´ë‹¤. ë¸”ë¡ì²´ì¸ì€ ì¼ëª… CS êµ¬ì¡°ë¼ê³  í•˜ëŠ” Client-Serverë¥¼ ì±„íƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë¯¸ Serverë¼ëŠ” ë§ì´ "ì¤‘ì•™"í™”ë¼ëŠ” ë§ì„ ì˜ë¯¸í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì´ë‹¤. ë¬¼ë¡  P2Pë„ ë‹¤ë¥¸ ì˜ë¯¸ë¡œ CSë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìžˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ëžŒê³¼ ì‚¬ëžŒ ê°„ì˜ ì—°ê²°ì„ í•˜ë”ë¼ë„ ì†Œë¦¬ë°”ë‹¤ì²˜ëŸ¼ ëˆ„êµ°ê°€ê°€ ì„œë²„ê°€ ë˜ì–´ì„œ ìžë£Œë¥¼ ê³µìœ í•˜ê³  ëˆ„êµ°ê°€ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ë˜ì–´ì„œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” ì—­í• ì´ ë  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ëŸ¬ë‚˜ ì¼ë°˜ì ì¸ ì¤‘ì•™ì— ì‚¬ì–‘ì´ ë§¤ìš° ì¢‹ì€ ì„œë²„(Server)ì— ë‹¤ì¤‘ì˜ í´ë¼ì´ì–¸íŠ¸(Client)ê°€ ë¶™ëŠ” êµ¬ì¡°ë¥¼ CS êµ¬ì¡°ë¼ê³  í•˜ê³ , ë¸”ë¡ì²´ì¸ì€ CSë³´ë‹¤ P2Pë¥¼ ì§€í–¥í•œë‹¤.

![á„€á…³á„…á…µá†·4](https://user-images.githubusercontent.com/88940298/147638086-1ecfe1bc-c312-4505-b0f9-a35743a8ed80.png)


- Public Blockchain(í¼ë¸”ë¦­ ë¸”ë¡ì²´ì¸) Similar to Pure P2P

- Private Blockchain(í”„ë¼ì´ë¹— ë¸”ë¡ì²´ì¸) Similar to Hybrid P2P

- Consortium Blockchain(ì»¨ì†Œì‹œì›€ ë¸”ë¡ì²´ì¸) Similar to Super peer


### P2P ì˜ ìž¥ì 
- ìžìœ ë¡œì›€:ìžìœ ë¡­ê¸° ë–„ë¬¸ì— ë”ë§Žì€ ê°œë°œìžë“¤ì´ ì°¸ì—¬ í• ìˆ˜ ìžˆìœ¼ë©° ë˜í•œ ìžìœ ë¡­ê¸° ë–„ë¬¸ì— ì°¸ì—¬ë¥¼ í•˜ëŠ”ì‚¬ëžŒë“¤ì´ê²Œ ë³´ìƒì„ ì£¼ë©´ csë³´ë‹¤ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ë¥¼ ë³´ì—¬ ì¤„ ìˆ˜ ìžˆë‹¤
- êµ¬ì¶•í•´ ë†“ìœ¼ë©´ ì‚¬ëžŒë“¤ì´ ì•Œì•„ì„œ ì„œë²„ë¥¼ ìžì²­í•˜ì—¬ ìƒíƒœê³„ë¥¼ êµ¬ì¶• ,ì‚¬ëžŒë“¤ì€ ì½”ì¸ì„ ì–»ê¸°ìœ„í•´ ìžë°œì ìœ¼ë¡œ ì°¸ì—¬
- ë³´ì•ˆëŠ¥ë ¥:ëª¨ë“ ê²ƒì„ ì„œë¡œê°„ì— ê°ì‹œ,ëª¨ë“ ì»´í“¨í„°ê°€ ì„œë²„-í´ë¼ì´ì–¸íŠ¸ ì—­í™œì„ í•˜ê¸° ë•Œë¬¸ì— ìƒëŒ€ë°©ì˜ ì»´í“¨í„°ë¥¼ ê°ì‹œí•˜ê³  ì˜¬ë°”ë¥¸ ê²°ë¡ ìœ¼ë¡œ ë„ì¶œ
- ìž˜ëª»ëœ ê²ƒì„ ì •ì •í•˜ëŠ” ë¯¼ì£¼ì£¼ì˜ì :ëˆ„êµ°ê°€ì˜ ì»´í“¨í„°ê°€ í•´í‚¹ì´ ë˜ì–´ ìž˜ëª»ëœ ì—°ì‚°ì„ í•œë“¤ ë‚˜ë¨¸ì§€ ëŒ€ë‹¤ìˆ˜ì˜ ì»´í“¨í„°ê°€ ì˜¬ë°”ë¥¸ íŒë‹¨ì„ í•˜ê²Œë˜ë©´ ìž˜ëª»ëœ ì»´í“¨í„°ë¥¼ ë¬´ì‹œí• ìˆ˜ ìžˆìŒ -ì´ê¸°ëŠ¥ìœ¼ë¡œ ì¸í•´ì„œ íƒˆì¤‘ì•™í™” ë°©ì‹ìœ¼ë¡œ ëŒì•„ê°
- ë…¸ë“œë“¤ì¤‘ ìž¥ì• ê°€ ë°œìƒí•˜ì—¬ë„ ì„œë¹„ìŠ¤ì— ì§€ìž¥ì´ í¬ì§€ ì•Šê±°ë‚˜ ì—†ëŠ” ê³ ê°€ìš©ì„± í˜¹ ë‚´ê³ ìž¥ì„±ì˜ ì„œë¹„ìŠ¤ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ë³´ì—¬ì¤Œ

### P2P ì˜ ë‹¨ì 
- í´ë¼ì´ì–¸íŠ¸-ì„œë²„êµ¬ì¡°ëŠ” ì„œë²„ë¥¼ ìš´ì˜í•˜ëŠ” ì‚¬ëžŒì´ ì¡´ìž¬í•œë‹¤ë©´ ì–¸ì œ ì–´ë””ì„œë“ ì§€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìžˆê³  ê²€ì¦ëœ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.ì„œë²„ì˜ ì—­í™œí•´ì¤„ ì‚¬ëžŒì´ ì—†ë‹¤ë©´ ì„œë¹„ìŠ¤ë¥¼ ë‹¹ì—°ížˆ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë³¸ì¸ì´ ì´ìš©í•œ ë§Œí¼ ë³¸ì¸ë„ ê·¸ ëŒ“ê°€ë¥¼ ì§€ë¶ˆí•˜ê²Œ ë˜ëŠ” ì›ë¦¬ì´ê¸° ë–„ë¬¸ì— ëŒ“ê°€ë¥¼ ì§€ë¶ˆí•˜ê¸° ì‹«ì€ ì‚¬ëžŒì´ ë§Žì„ ìˆ˜ë¡ ì ì  ì„œë¹„ìŠ¤ì˜ í€„ë¦¬í‹°ë„ ì£½ì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
- ëª¨ë“  P2Pì˜ ë…¸ë“œë“¤ì˜ ì—°ê²° ì†ë„ê°€ ë¹ ë¥´ë©´ ëª¨ë¥´ê² ì§€ë§Œ, íšŒì„ ì´ ëŠë¦° ë…¸ë“œê°€ ì¡´ìž¬í•  ê²½ìš° ì „ì²´ ë„¤íŠ¸ì›Œí¬ì˜ ì†ë„ë¥¼ ì €í•˜ì‹œí‚¬ ìˆ˜ ìžˆëŠ” ë‹¨ì ì´ ì¡´ìž¬í•©ë‹ˆë‹¤. CS êµ¬ì¡°ëŠ” ìš´ì˜í•˜ëŠ” ì‚¬ëžŒë“¤ì´ ë¹ ë¥¸ íšŒì„ ì„ ì“´ë‹¤ë©´, í´ë¼ì´ì–¸íŠ¸ íšŒì„ ë§Œ ì†ë„ê°€ ë³´ìž¥ë  ê²½ìš° ì¶©ë¶„ížˆ ë¹ ë¥¸ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìžˆì§€ë§Œ P2PëŠ” ê·¸ë ‡ì§€ ëª»í•©ë‹ˆë‹¤

### Public Blockchain(í¼ë¸”ë¦­ ë¸”ë¡ì²´ì¸) Similar to Pure P2P
### Private Blockchain(í”„ë¼ì´ë¹— ë¸”ë¡ì²´ì¸) Similar to Hybrid P2P
### Consortium Blockchain(ì»¨ì†Œì‹œì›€ ë¸”ë¡ì²´ì¸) Similar to Super peer

## ðŸ‘©ðŸ»â€ðŸŽ“SOKET(ì†Œì¼“)
ì†Œì¼“(Socket)ì´ëž€ ë„¤íŠ¸ì›Œí¬ìƒì—ì„œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ë‘ê°œì˜ í”„ë¡œê·¸ëž¨ì´ íŠ¹ì • í¬íŠ¸ë¥¼ í†µí•´ ì–‘ë°©í–¥ í†µì‹ ì´ ê°€ëŠ¥í•˜ë„ë¡ ë§Œë“¤ì–´ì£¼ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ìž¥ì¹˜ì´ë‹¤.
ì˜¤ëŠ˜ë‚  ì»´í“¨í„° ê°„ í†µì‹ ì˜ ëŒ€ë¶€ë¶„ì€ ì¸í„°ë„· í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ê³  ìžˆìœ¼ë¯€ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ì€ ì¸í„°ë„· ì†Œì¼“ì´ë‹¤. ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ ìœ„í•œ í”„ë¡œê·¸ëž¨ë“¤ì€ ì†Œì¼“ì„ ìƒì„±í•˜ê³ , ì´ ì†Œì¼“ì„ í†µí•´ì„œ ì„œë¡œ ë°ì´í„°ë¥¼ êµí™˜í•œë‹¤. ì†Œì¼“ì€ RFC 147ì— ê¸°ìˆ ì‚¬í•­ì´ ì •ì˜ë˜ì–´ ìžˆë‹¤.

ì¸í„°ë„· ì†Œì¼“ì€ ë‹¤ìŒê³¼ ê°™ì€ ìš”ì†Œë“¤ë¡œ êµ¬ì„±ë˜ì–´ ìžˆë‹¤.
- ì¸í„°ë„· í”„ë¡œí† ì½œ (TCP, UDP, raw IP)
- ë¡œì»¬ IP ì£¼ì†Œ
- ë¡œì»¬ í¬íŠ¸
- ì›ê²© IP ì£¼ì†Œ
- ì›ê²© í¬íŠ¸

ì¸í„°ë„· ì†Œì¼“ì€ í¬ê²Œ ë‘ ê°œì˜ íƒ€ìž…ìœ¼ë¡œ ë¶„ë¥˜í•  ìˆ˜ ìžˆë‹¤.
- UDP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
- TCP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
### Tranceport Layer
- End Palntê°„ ì‹ ë¢°ì„± ìžˆëŠ” ë°ì´í„° ì „ì†¡ì„ ë‹´ë‹¹í•˜ëŠ” ê³„ì¸µ
- ì‹ ë¢°ì„± : ë°ì´í„°ë¥¼ ìˆœì°¨ì ,ì•ˆì •ì ì¸ ì „ë‹¬
- ì „ì†¡ : í¬íŠ¸ ë²ˆí˜¸ì— í•´ë‹¹í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì— ë°ì´í„°ë¥¼ ì „ë‹¬
##### ì „ì†¡ê³„ì¸µì´ ì—†ë‹¤ë©´(ì „ì†¡ ê³„ì¸µì˜ ì¤‘ìš”ì„±)
- ë°ì´í„°ì˜ ìˆœì°¨ ì „ì†¡ ì›í™œì´ x
- Flow(íë¦„ë¬¸ì œ)-ì›ì¸:ì†¡ìˆ˜ì‹ ìžê°„ì˜ ë°ì´í„° ì²˜ë¦¬ ì†ë„ ì°¨ì´,ìˆ˜ì‹ ìžê°€ ì²˜ë¦¬í•  ìˆ˜ ìžˆëŠ” ë°ì´í„°ëŸ‰ì„ ì´ˆê³¼
- Congention(í˜¼ìž¡ë¬¸ì œ) ì›ì¸ : ë„¤íŠ¸ì›Œí¬ì˜ ë°ì´í„° ì²˜ë¦¬ ì†ë„ (ex.ë¼ìš°í„°),Networkê°€ í˜¼ìž¡í• ë–„
- ê²°ê³¼ì ìœ¼ë¡œ ë°ì´í„°ì˜ ì†ì‹¤ì´ ë°œìƒ !!

###  â‰ï¸UDP í”„ë¡œí† ì½œ
![2018-02-04-network-tcp-udp-tcpip-3](https://user-images.githubusercontent.com/88940298/147642733-7f5353ec-0c4e-4293-b3d0-942bd039036f.png)


- TCPë³´ë‹¤ ì‹ ë¢°ì„±ì´ ë–¨ì–´ì§€ì§€ë§Œ ì „ì†¡ì†ë„ê°€ ì¼ë°˜ì ìœ¼ë¡œ ë¹ ë¥¸ í”„ë¡œí† ì½œ(ìˆœì°¨ì „ì†¡x,íë¦„ì œì–´x,í˜¼ìž¡ì œì–´x)
- Connectionless (3 way-handshake x)
- Error Detection
- ë¹„êµì  ë°ì´í„°ì˜ ì‹ ë¢°ì„±ì´ ì¤‘ìš”í•˜ì§€ ì•Šì„ ë–„ ì‚¬ìš©(ex ì˜ìƒ ìŠ¤íŠ¸ë¦¬ë°)

#### User Datagram - UDP í”„ë¡œí† ì½œì˜ PDU
- ë°ì´í„°ì— UDPí—¤ë” ì¶”ê°€
- TCPì²˜ëŸ¼ ë°ì´í„°ë¥¼ ìª¼ê°œì§€ ì•ŠìŒ
#### ë°ì´í„° ì „ì†¡ë°©ì‹
- ë³´ë‚´ë©´ ë°›ìŒ
### â‰ï¸TCP í”„ë¡œí† ì½œ
![2018-02-04-network-tcp-udp-tcpip-2](https://user-images.githubusercontent.com/88940298/147642803-5968ffdd-5a58-4b26-b72c-30ad96082620.png)


- ì‹ ë¢°ì„± ìžˆëŠ” ë°ì´í„° í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” í”„ë¡œí† ì½œ
- íŠ¹ì§•: Connection ì—°ê²°(3 way-handshake)-ì–‘ë°©í–¥ í†µì‹ 
- ë°ì´í„°ì˜ ìˆœì°¨ ì „ì†¡ì„ ë³´ìž¥
- Flow Control(íë¦„ì œì–´)
- Congention Control (í˜¼ìž¡ì œì–´)
- Error Detection(ì˜¤ë¥˜ ê°ì§€)
#### â“µSegment(ì„¸ê·¸ë¨¼íŠ¸) -TCP í”„ë¡œí† ì½œì˜ pdu
- í”„ë¡œí† ì½œ ì•ˆì—ì„œ ì²˜ë¦¬ë˜ê³  ì›€ì§ì´ëŠ” ë°ì´í„°ì˜ ë‹¨ìœ„
- ë°ì´í„° ë°›ì€ê²ƒì„ ìž˜ë¼ì„œ TCP Headerë¥¼ ì¶”ê°€í•œê²ƒ
#### â‘¡TCP Header
- TCP ì—°ê²° ì œì–´ ë° ë°ì´í„° ê´€ë¦¬
#### â‘¢TCPì˜ 3-Way handshake (Connectionì—°ê²°)
- SYN.ë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •í•´ íŒ¨í‚· ì†¡ì‹ 
- SYN.ACKë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •í•´ íŒ¨í‚· ì†¡ì‹ 
- ACK ë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •í•´ íŒ¨í‚· ì†¡ì§„
#### â‘£TCPì˜ ë°ì´í„° ì „ì†¡ ë°©ì‹
- 1.clientê°€ íŒ¨í‚·ì†¡ì‹ 
- 2.Serverì—ì„œ Ackì†¡ì‹ 
- 3.ACK ìˆ˜ì‹ í•˜ì§€ ëª»í•˜ë©´ ìž¬ì „ì†¡
#### â‘¤4.way-handshake(Connection close)
- ë°ì´í„°ë¥¼ ì „ë¶€ ì†¡ì‹ í•œ clientê°€ FINì†¡ì‹ 
- Serverê°€ ACKì†¡ì‹ 
- Serverì—ì„œ ë‚¨ì€ íŒ¨í‚· ì†¡ì‹ (ì¼ì • ì‹œê°„ ëŒ€ê¸°)
- Serverê°€ FINì†¡ì‹ 
- Clientê°€ ACKì†¡ì‹ 

![226CBB4852BBDDB70B](https://user-images.githubusercontent.com/88940298/147642647-8e405a70-542d-4416-a53d-5593c50ecef1.jpeg)

#### â€¼ï¸ðŸ˜…TCPì˜ ë¬¸ì œì 
- ì „ì†¡ì˜ ì‹ ë¢°ì„±ì€ ë³´ìž¥í•˜ì§€ë§Œ..
- ë§¤ë²ˆ Connectionì„ ì—°ê²°í•´ì„œ ì‹œê°„ ì†ì‹¤ ë°œìƒ(3-Way handshake)
- íŒ¨í‚·ì„ ì¡°ê¸ˆë§Œ ì†ì‹¤í•´ë„ ìž¬ì „ì†¡

### â‰ï¸ì›¹ì†Œì¼“ (WebScoket)
WebSocketì€ ws í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì— ì§€ì†ì ì¸ ì™„ì „ ì–‘ë°©í–¥ ì—°ê²° ìŠ¤íŠ¸ë¦¼ì„ ë§Œë“¤ì–´ ì£¼ëŠ” ê¸°ìˆ ìž…ë‹ˆë‹¤. 
HTTPí†µì‹ ê³¼ í˜¸í™˜ì´ ë˜ë©°, ì²˜ìŒ ì ‘ì†ì‹œ httpí†µì‹ ê³¼ handshakeê°€ ì´ë£¨ì–´ì§„ë‹¤. handshakeëŠ” ì²˜ìŒ ì ‘ì† ë•Œ í•œë²ˆë§Œ ì´ë£¨ì–´ì§„ë‹¤.

![991](https://user-images.githubusercontent.com/89236248/147659757-78b64663-c461-432e-ac01-6be43680cde3.png)


### â‰ï¸ì›¹ì†Œì¼“ (WebScoket)ê³¼ TCP/IP ì†Œì¼“ì˜ ì°¨ì´ì ì€?
- ì›¹ ì†Œì¼“ì€ HTTP ë ˆì´ì–´ì—ì„œ ìž‘ë™í•˜ëŠ” ì†Œì¼“ìœ¼ë¡œ TCP/IP ì†Œì¼“ì˜ ë ˆì´ì–´ê°€ ë‹¤ë¥´ë‹¤. (RFC-6455)
- IP, PORTë¥¼ í†µí•´ì„œ í†µì‹ í•œë‹¤ëŠ” ì ì—ì„œëŠ” ë¹„ìŠ·í•˜ë‹¤.
- ê¸°ì¡´ HTTP í†µì‹ ì˜ ê²½ìš°ì—ëŠ” ë‹¨ë°©í–¥ í†µì‹ ìœ¼ë¡œ ì‹¤ì‹œê°„ í†µì‹ ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ì‹¤ì‹œê°„ì²˜ëŸ¼ ë³´ì´ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.(Polling ë°©ì‹)
- ì´í›„ ì‹¤ì œë¡œ ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹ ì´ ê°€ëŠ¥í•œ ì›¹ ì†Œì¼“ì€ 2011ë…„ êµ­ì œ ì¸í„°ë„· í‘œì¤€í™” ê¸°êµ¬(IETF)ì—ì„œ RFC 6455ë¡œ í‘œì¤€í™”ê°€ ë˜ì—ˆë‹¤.
- ì›¹ ì†Œì¼“ì˜ í”„ë¡œí† ì½œ í‘œì‹œëŠ” WS(WebSocket)ê³¼ WSS(WebSocket Secure)ì´ ìžˆë‹¤.
- ì›¹ì†Œì¼“ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì € ë“±ì´ ìžˆê¸° ìžˆì§€ë§Œ í˜„ìž¬ëŠ” ê±°ì˜ ëª¨ë“  ë²¤ë”ì‚¬ì—ì„œ ì›¹ ì†Œì¼“ì„ ì§€ì›í•˜ê³  ìžˆë‹¤.

### â‰ï¸ì†Œì¼“ í†µì‹ í• ë•Œ í•„ìš”í•œ ì£¼ìš”í•¨ìˆ˜

1. socket(int domain, int type, int protocol)
ì†Œì¼“ì„ ë§Œë“œëŠ”ë° ë°”ë¡œ ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì†Œì¼“ ì—­ì‹œ íŒŒì¼ë¡œ ë‹¤ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì— ë°˜í™˜ê°’ì€ íŒŒì¼ë””ìŠ¤í¬ë¦½í„°ìž…ë‹ˆë‹¤. ë§Œì•½ ì†Œì¼“ì„ ì—¬ëŠ”ë° ì‹¤íŒ¨í–ˆë‹¤ë©´ -1ì„ ë¦¬í„´í•©ë‹ˆë‹¤.

2. connect(int fd, struct sockaddr *remote_host, socklen_t addr_length)
ì›ê²© í˜¸ìŠ¤íŠ¸(ì›ê²© ì»´í“¨í„°)ì™€ ì—°ê²°í•˜ëŠ” í•¨ìˆ˜ìž…ë‹ˆë‹¤. ì—°ê²°ëœ ì •ë³´ëŠ” remote_hostì— ì €ìž¥ë©ë‹ˆë‹¤. ì„±ê³µì‹œ 0, ì˜¤ë¥˜ì‹œ -1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

3. bind(int fd, struct sockaddr *local_addr, socklen_t addr_length)
ì†Œì¼“ì„ ë°”ì¸ë”©í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤. ì§€ê¸ˆ fdë¡œ ë„˜ê²¨ì§€ëŠ” ì†Œì¼“ê³¼ ì´ í”„ë¡œì„¸ìŠ¤ì™€ ë¬¶ëŠ”ë‹¤(bind)ë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤. ê·¸ëž˜ì„œ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ëŠ” ì†Œì¼“ì„ í†µí•´ ë‹¤ë¥¸ ì»´í“¨í„°ë¡œë¶€í„° ì—°ê²°ì„ ë°›ì•„ë“¤ì¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

4. listen(int fd, int backlog_queue_size)
 ì†Œì¼“ì„ í†µí•´ ë“¤ì–´ì˜¤ëŠ” ì—°ê²°ì„ ë“£ìŠµë‹ˆë‹¤. backlog_queue_sizeë§Œí¼ ì—°ê²° ìš”ì²­ì„ íì— ë„£ìŠµë‹ˆë‹¤. ì„±ê³µì‹œ 0, ì˜¤ë¥˜ì‹œ -1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

5. accept(int fd, sockaddr *remote_host, socklen_t *addr_length)
ì–´ë–¤ ì»´í“¨í„°ì—ì„œ ì´ ì»´í“¨í„°ë¡œ ì—°ê²°í• ë•Œ ì—°ê²°ì„ ë°›ì•„ë“¤ìž…ë‹ˆë‹¤. í•¨ìˆ˜ ì´ë¦„ì´ ë§í•´ì£¼ê³  ìžˆì£ .
ì—°ê²°ëœ ì›ê²© ì»´í“¨í„°ì˜ ì •ë³´ëŠ” remote_hostì— ì €ìž¥ë©ë‹ˆë‹¤. ì˜¤ë¥˜ì‹œì— -1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

6. send(int fd, void* buffer, size_t n, int flags)
bufferë¥¼ ì†Œì¼“ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ì¸ fdë¡œ ì „ì†¡í•©ë‹ˆë‹¤. ë³´ë‚¸ ë°”ì´íŠ¸ìˆ˜ë¥¼ ë°˜í™˜í•˜ë©° ì‹¤íŒ¨ì‹œ -1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

7. recv(int fd, void* buffer, size_t n, int flags)
sendí•¨ìˆ˜ì™€ ì‚¬ìš©ë²•ì´ ê±°ì˜ ë¹„ìŠ·í•©ë‹ˆë‹¤. në°”ì´íŠ¸ë¥¼ bufferë¡œ ì½ìŠµë‹ˆë‹¤. ì„±ê³µì‹œ ë°›ì€ ë°”ì´íŠ¸ìˆ˜ë¥¼ ë°˜í™˜í•˜ë©° ì‹¤íŒ¨ì‹œ -1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
ì›¹ì†Œì¼“ì˜ í†µì‹  TCP 80í¬íŠ¸ ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ HTTP í”„ë¡œí† ì½œê³¼ í˜¸í™˜ë˜ë©°, ì›¹ë¸Œë¼ìš°ì €ì™€ ì„œë²„ê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ë‹¤.

### â‰ï¸ì›¹ì†Œì¼“ ì„œë²„ ë§Œë“¤ê¸°

```
//server.js
const WebSocket = require('ws');

const ws = new WebSocket.Server({ port: 8080 });

console.log("Server Started");


ws.on('connection', (wss) => {

  console.log("A new Client Connected")

  wss.send('Welcome to the Server!');


  wss.on('message', (message) => {

    console.log(`Server Received: ${message}`);


    wss.send('Got your Message: ' + message);

  });

});
```

```
//client.js
const socket = new WebSocket('ws://localhost:8080');

socket.addEventListener('open', () => {

    console.log('Connected to the Server!');

});


socket.addEventListener('message', (msg) => {

    console.log(`Client Received: ${msg.data}`);

});


const sendMsg = () => {

    socket.send('ë©”ì„¸ì§€ìž…ë ¥');
}
```


 
